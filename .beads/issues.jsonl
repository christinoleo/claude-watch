{"id":"claude-watch-2ib","title":"Add batch-run types","description":"Create src/types/batch-run.ts with BatchRun, BatchRunTask interfaces","status":"closed","priority":1,"issue_type":"task","owner":"leomilho@gmail.com","created_at":"2026-02-06T09:25:46.321823071+01:00","created_by":"Leonardo","updated_at":"2026-02-06T09:27:43.733961011+01:00","closed_at":"2026-02-06T09:27:43.733961011+01:00","close_reason":"Closed","dependencies":[{"issue_id":"claude-watch-2ib","depends_on_id":"claude-watch-oht","type":"blocks","created_at":"2026-02-06T09:25:54.563045398+01:00","created_by":"Leonardo"}]}
{"id":"claude-watch-2su","title":"Integrate batch run into EpicSection and BeadsPanel","description":"Add Batch Run button to EpicSection header, pass session context from BeadsPanel","status":"closed","priority":1,"issue_type":"task","owner":"leomilho@gmail.com","created_at":"2026-02-06T09:25:47.149666243+01:00","created_by":"Leonardo","updated_at":"2026-02-06T09:31:58.745765493+01:00","closed_at":"2026-02-06T09:31:58.745765493+01:00","close_reason":"Closed","dependencies":[{"issue_id":"claude-watch-2su","depends_on_id":"claude-watch-oht","type":"blocks","created_at":"2026-02-06T09:25:55.699411645+01:00","created_by":"Leonardo"},{"issue_id":"claude-watch-2su","depends_on_id":"claude-watch-j27","type":"blocks","created_at":"2026-02-06T09:25:56.665310416+01:00","created_by":"Leonardo"}]}
{"id":"claude-watch-31k","title":"Multi-agent architecture","description":"Enable multiple claude-watch agents to work together, with a single UI aggregating sessions from all agents.\n\n## Goals\n- Agents can run independently on different machines\n- Browser can connect to multiple agents\n- Optional federation via webhooks between agents\n- Static site deployment option\n\n## Key Components\n- Agent-to-agent webhook communication\n- Workspace field in session JSON\n- Static site build option\n- Agent discovery/configuration","status":"open","priority":0,"issue_type":"epic","owner":"leomilho@gmail.com","created_at":"2026-01-28T18:38:52.868478755+01:00","created_by":"Leonardo","updated_at":"2026-01-28T18:38:52.868478755+01:00","dependencies":[{"issue_id":"claude-watch-31k","depends_on_id":"claude-watch-d7j","type":"blocks","created_at":"2026-01-28T18:40:37.127661584+01:00","created_by":"Leonardo"},{"issue_id":"claude-watch-31k","depends_on_id":"claude-watch-j0k","type":"blocks","created_at":"2026-01-28T18:40:37.2425277+01:00","created_by":"Leonardo"},{"issue_id":"claude-watch-31k","depends_on_id":"claude-watch-uir","type":"blocks","created_at":"2026-01-28T18:40:37.355944877+01:00","created_by":"Leonardo"}]}
{"id":"claude-watch-6co","title":"Implement BatchRunManager","description":"Server-side orchestrator in src/server/batch-run.ts. Monitors session state, sends task prompts via tmux, advances through beads tasks. ~200 lines.","status":"closed","priority":1,"issue_type":"task","owner":"leomilho@gmail.com","created_at":"2026-02-06T09:25:46.499471449+01:00","created_by":"Leonardo","updated_at":"2026-02-06T09:29:00.619612958+01:00","closed_at":"2026-02-06T09:29:00.619612958+01:00","close_reason":"Closed","dependencies":[{"issue_id":"claude-watch-6co","depends_on_id":"claude-watch-oht","type":"blocks","created_at":"2026-02-06T09:25:54.764098177+01:00","created_by":"Leonardo"},{"issue_id":"claude-watch-6co","depends_on_id":"claude-watch-2ib","type":"blocks","created_at":"2026-02-06T09:25:55.907704349+01:00","created_by":"Leonardo"}]}
{"id":"claude-watch-bjg","title":"Add batch-run REST API routes","description":"POST/GET /api/batch-run and POST/GET/DELETE /api/batch-run/[id] for start/status/control","status":"closed","priority":1,"issue_type":"task","owner":"leomilho@gmail.com","created_at":"2026-02-06T09:25:46.639285431+01:00","created_by":"Leonardo","updated_at":"2026-02-06T09:29:53.100035971+01:00","closed_at":"2026-02-06T09:29:53.100035971+01:00","close_reason":"Closed","dependencies":[{"issue_id":"claude-watch-bjg","depends_on_id":"claude-watch-oht","type":"blocks","created_at":"2026-02-06T09:25:54.996300064+01:00","created_by":"Leonardo"},{"issue_id":"claude-watch-bjg","depends_on_id":"claude-watch-6co","type":"blocks","created_at":"2026-02-06T09:25:56.098243772+01:00","created_by":"Leonardo"}]}
{"id":"claude-watch-d7j","title":"Add workspace field to session JSON","description":"Add a 'workspace' field to session JSON files to support grouping sessions across distributed agents.\n\n## Details\n- Hook detects workspace (git root, explicit config, or cwd-based)\n- Field is optional for backward compatibility\n- UI uses workspace for grouping instead of path-prefix logic\n\n## Acceptance Criteria\n- [ ] Hook writes workspace field to JSON\n- [ ] Workspace detection: try git root, fall back to config/cwd\n- [ ] UI groups by workspace when available\n- [ ] Backward compatible with existing JSON files","status":"open","priority":0,"issue_type":"task","owner":"leomilho@gmail.com","created_at":"2026-01-28T18:39:04.432567407+01:00","created_by":"Leonardo","updated_at":"2026-01-28T18:39:04.432567407+01:00"}
{"id":"claude-watch-gt0","title":"Wire BatchRunManager into hooks.server.ts","description":"Instantiate BatchRunManager and make it accessible to API routes","status":"closed","priority":1,"issue_type":"task","owner":"leomilho@gmail.com","created_at":"2026-02-06T09:25:46.82127486+01:00","created_by":"Leonardo","updated_at":"2026-02-06T09:29:53.278581523+01:00","closed_at":"2026-02-06T09:29:53.278581523+01:00","close_reason":"Closed","dependencies":[{"issue_id":"claude-watch-gt0","depends_on_id":"claude-watch-oht","type":"blocks","created_at":"2026-02-06T09:25:55.21669465+01:00","created_by":"Leonardo"},{"issue_id":"claude-watch-gt0","depends_on_id":"claude-watch-6co","type":"blocks","created_at":"2026-02-06T09:25:56.270968625+01:00","created_by":"Leonardo"}]}
{"id":"claude-watch-j0k","title":"Agent-to-agent webhook federation","description":"Enable agents to sync session state via webhooks for distributed deployments.\n\n## Architecture\n- Agent watches local JSON files (as now)\n- On change, POST webhook to configured remote agents\n- Remote agents update their state and push to connected browsers\n\n## Config\n```json\n{\n  \"sync_to\": [\"http://hub-agent:3456/api/webhook\"]\n}\n```\n\n## Acceptance Criteria\n- [ ] Agent config for remote agent URLs\n- [ ] Webhook endpoint to receive session updates\n- [ ] POST to remotes on local file change\n- [ ] Deduplication (don't echo back received updates)","status":"open","priority":0,"issue_type":"task","owner":"leomilho@gmail.com","created_at":"2026-01-28T18:39:17.420583312+01:00","created_by":"Leonardo","updated_at":"2026-01-28T18:39:17.420583312+01:00","dependencies":[{"issue_id":"claude-watch-j0k","depends_on_id":"claude-watch-d7j","type":"blocks","created_at":"2026-01-28T18:39:42.596599112+01:00","created_by":"Leonardo"}]}
{"id":"claude-watch-j27","title":"Add BatchRunControls UI component","description":"Svelte component showing batch run status, progress, pause/resume/stop controls","status":"closed","priority":1,"issue_type":"task","owner":"leomilho@gmail.com","created_at":"2026-02-06T09:25:46.989446907+01:00","created_by":"Leonardo","updated_at":"2026-02-06T09:31:58.715025065+01:00","closed_at":"2026-02-06T09:31:58.715025065+01:00","close_reason":"Closed","dependencies":[{"issue_id":"claude-watch-j27","depends_on_id":"claude-watch-oht","type":"blocks","created_at":"2026-02-06T09:25:55.439827636+01:00","created_by":"Leonardo"},{"issue_id":"claude-watch-j27","depends_on_id":"claude-watch-bjg","type":"blocks","created_at":"2026-02-06T09:25:56.494194978+01:00","created_by":"Leonardo"}]}
{"id":"claude-watch-lg5","title":"Paste image from clipboard into input","description":"Allow pasting images from clipboard into the input box. Image gets uploaded to /tmp/claude-watch-uploads/, path included in message so Claude Code can read it.\n\n## User Flow\n1. Ctrl+V with image in clipboard\n2. Small square thumbnail appears inside input box\n3. User types text\n4. Enter sends: uploads image first, then sends text with path\n\n## Components\n\n### Frontend\n- Paste event handler on textarea\n- Thumbnail preview (small square with X to remove)\n- State for pending image blob\n- Upload before send\n\n### Backend\n- POST /api/files/upload endpoint\n- Saves to /tmp/claude-watch-uploads/\u003cuuid\u003e.\u003cext\u003e\n- Returns absolute path\n\n### Cleanup\n- Simple: files older than 24h or just rely on /tmp clearing on reboot\n\n## Out of Scope\n- Multiple images\n- Drag and drop\n- File path detection (blob only)\n- Fancy preview modal","status":"open","priority":2,"issue_type":"feature","owner":"leomilho@gmail.com","created_at":"2026-01-30T18:40:19.894427981+01:00","created_by":"Leonardo","updated_at":"2026-01-30T18:40:19.894427981+01:00"}
{"id":"claude-watch-oht","title":"Batch Run Mode prototype","status":"closed","priority":1,"issue_type":"epic","owner":"leomilho@gmail.com","created_at":"2026-02-06T09:25:34.775245934+01:00","created_by":"Leonardo","updated_at":"2026-02-06T09:33:42.282774774+01:00","closed_at":"2026-02-06T09:33:42.282774774+01:00","close_reason":"Closed"}
{"id":"claude-watch-uir","title":"Static site build option","description":"Build SvelteKit app as static site that connects to agent(s) directly from browser.\n\n## Architecture\n- Static HTML/JS/CSS (deploy to GitHub Pages, CDN, etc.)\n- Browser connects WebSocket to configured agent URL(s)\n- No server-side rendering needed\n- Agent URLs configured in UI or query params\n\n## Challenges\n- CORS handling on agents\n- Mixed content (HTTPS site â†’ HTTP agents)\n- Agent discovery UX\n\n## Acceptance Criteria\n- [ ] SvelteKit adapter-static build option\n- [ ] Agent URL configuration in browser\n- [ ] CORS headers on agent API\n- [ ] Works with single or multiple agents","status":"open","priority":0,"issue_type":"task","owner":"leomilho@gmail.com","created_at":"2026-01-28T18:39:29.833000453+01:00","created_by":"Leonardo","updated_at":"2026-01-28T18:39:29.833000453+01:00","dependencies":[{"issue_id":"claude-watch-uir","depends_on_id":"claude-watch-d7j","type":"blocks","created_at":"2026-01-28T18:39:42.741491482+01:00","created_by":"Leonardo"}]}
